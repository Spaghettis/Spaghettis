
# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

package provide apple_events 0.1

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

package require pdwindow
package require wheredoesthisgo

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

set ::tk::mac::CGAntialiasLimit 0
set ::tk::mac::antialiasedtext  1

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

proc tkAboutDialog {} {
    menu_aboutpd
}

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

proc ::tk::mac::ShowPreferences {args} {
    pdsend "pd start-path-dialog"
}

proc ::tk::mac::OpenDocument {args} {
    foreach filename $args {
        if {$::done_init} {
            open_file $filename
        } else {
            lappend ::filestoopen_list $filename
        }
    }
}

proc ::tk::mac::PrintDocument {args} {
    menu_print $::focused_window
}

proc ::tk::mac::Quit {args} {
    pdsend "pd verifyquit"
}

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------
