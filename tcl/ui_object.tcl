
# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

# Copyright (c) 1997-2016 Miller Puckette and others ( https://opensource.org/licenses/BSD-3-Clause ).

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

# Text in object boxes.

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

package provide ui_object 1.0

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

namespace eval ::ui_object:: {

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

proc newText {c tags x y text fontSize color} {
    
    $c create text $x $y    -tags $tags \
                            -text $text \
                            -fill $color \
                            -anchor nw \
                            -font [::getFont $fontSize]
}

proc setText {c tag text} {

    $c itemconfig $tag -text $text
}

proc setEditing {top tag isEditing} {

    if {$isEditing == 0} {selection clear $top.c}
    
    $top.c focus $tag
}

proc pasteText {top} {

    # Fake typing the contents if any. 
    
    if {[catch { clipboard get } contents]} {
        #
    } else {
        foreach c [split $contents ""] { ui_bind::key $top "" $c 1 }
    }
}

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

}

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------
