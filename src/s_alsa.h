
/* 
    Copyright (c) 1997-2015 Miller Puckette and others.
*/

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#pragma mark -

#ifndef __s_alsa_h_
#define __s_alsa_h_

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#pragma mark -

typedef int16_t t_alsa_sample16;
typedef int32_t t_alsa_sample32;

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#pragma mark -

#ifndef INT32_MAX
    #define INT32_MAX               0x7fffffff
#endif

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#pragma mark -

#define ALSA_DEFAULT_BLOCK          64
#define ALSA_MAXIMUM_DEVICES        4

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#pragma mark -

typedef struct _alsa_dev {
    snd_pcm_t   *a_handle;
    int         a_devno;
    int         a_sampwidth;
    int         a_channels;
    char        **a_addr;
    int         a_synced; 
    } t_alsa_dev;

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#pragma mark -

int  alsamm_open_audio  (int rate, int blocksize);
int  alsamm_send_dacs   (void);
void alsamm_close_audio (void);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#endif // __s_alsa_h_
