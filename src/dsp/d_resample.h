
/* Copyright (c) 1997-2019 Miller Puckette and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#ifndef __d_resample_h_
#define __d_resample_h_

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

typedef struct _resample {
    int         r_type;                 /* Type of upsampling method. */
    int         r_downsample;           /* Downsampling factor. */
    int         r_upsample;             /* Upsampling factor. */
    int         r_allocated;            /* Size of allocated resampled vector signal. */
    t_sample    *r_vector;              /* Resampled vector signal. */
    } t_resample;

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void        resample_init               (t_resample *x, t_symbol *type);
void        resample_free               (t_resample *x);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

int         resample_isRequired         (t_resample *x);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void        resample_set                (t_resample *x, int downsample, int upsample);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

t_sample    *resample_getBufferInlet    (t_resample *x, t_sample *s, int vectorSize, int resampledSize);
t_sample    *resample_getBufferOutlet   (t_resample *x, t_sample *s, int vectorSize, int resampledSize);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#endif // __d_resample_h_
