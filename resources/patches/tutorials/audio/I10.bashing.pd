#N canvas 514 200 408 401 12;
#N canvas 410 57 565 553 fft 0;
#X obj 36 96 *~;
#X obj 36 24 inlet~;
#X obj 36 132 rfft~;
#X obj 36 300 *~;
#X obj 36 384 rifft~;
#X obj 72 60 tabreceive~ \$0-hann;
#X obj 288 24 bang~;
#X obj 132 252 osc~;
#X obj 36 456 *~;
#X obj 84 420 tabreceive~ \$0-hann;
#X obj 36 492 outlet~;
#X obj 288 492 outlet;
#X obj 384 492 block~ 1024 2;
#X obj 36 348 /~ 1024;
#X obj 36 180 mag~;
#X obj 132 216 t f 0;
#X obj 132 180 samplerate;
#X obj 288 60 t b b;
#N canvas 393 32 426 403 sync 0;
#X obj 36 108 spigot;
#X obj 240 96 t f b;
#X obj 240 168 /;
#X obj 240 204 * 1000;
#X obj 240 24 loadbang;
#X obj 108 24 r \$0-start;
#X obj 36 24 inlet;
#X obj 36 348 outlet;
#X obj 108 60 t 1;
#X obj 36 144 t b 0;
#X obj 300 132 samplerate;
#X obj 36 300 delay;
#X obj 240 60 expr (1024/2)-1;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 1 10 0;
#X connect 2 0 3 0;
#X connect 3 0 11 1;
#X connect 4 0 12 0;
#X connect 5 0 8 0;
#X connect 6 0 0 0;
#X connect 8 0 0 1;
#X connect 9 0 11 0;
#X connect 9 1 0 1;
#X connect 10 0 2 1;
#X connect 11 0 7 0;
#X connect 12 0 1 0;
#X coords 0 0 1 1 250 175 0 0 0;
#X restore 288 180 pd sync;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 14 0;
#X connect 2 1 14 1;
#X connect 3 0 13 0;
#X connect 4 0 8 0;
#X connect 5 0 0 1;
#X connect 6 0 17 0;
#X connect 7 0 3 1;
#X connect 8 0 10 0;
#X connect 9 0 8 1;
#X connect 13 0 4 0;
#X connect 14 0 3 0;
#X connect 15 0 7 0;
#X connect 15 1 7 1;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 17 1 16 0;
#X connect 18 0 11 0;
#X coords 0 0 1 1 250 175 0 0 0;
#X restore 36 204 pd fft;
#X f 6;
#X obj 36 108 bng 15 250 50 0 empty empty empty 0 -6 0 8 #fcfcfc #000000 #000000;
#X obj 60 264 tabwrite~ \$0-nophase;
#X obj 36 312 output;
#N canvas 0 22 1062 762 more 0;
#X text 96 72 This patch takes an incoming sound \, does an overlap-2 FFT analysis of it \, and bashes the phases of the spectra so that when regenerated the components will all have zero phase at the middle of each window. You can use the windows as waveforms and cross-fade them at will without getting phase modulation. This might be useful for making synthetic instruments that mimic the spectral variation of recorded sounds.;
#X text 96 252 You can save the analyses and needn't be running the FFT patch to do the resynthesis. You can read a sample \, select window size \, and press "sample" to analyze it \, or else analyze a "live" input. You'll hear the phase-bashed sample as the analysis runs. You can regenerate the sound with specified pitch \, sample location \, and spectral shift \, using the "playback" controls.;
#X text 204 444 When analysis starts \, set a delay to;
#X text 204 456 one frame minus a sample (i.e. \, just;
#X text 204 480 one 64-sample block before the next;
#X text 204 492 frame) which is synchronized with the;
#X text 204 504 first frame emerging from outlet~ at;
#X text 288 528 left. In the parent window;
#X text 276 540 this is used to start;
#X text 276 564 recording synchronously.;
#X coords 0 0 1 1 250 175 0 0 0;
#X restore 216 156 pd more;
#X obj 12 12 cnv 15 250 45 empty empty empty 0 -7 0 10 #cccccc #000000;
#X text 24 24 bashing;
#X text 12 72 Phase bashing.;
#N canvas 518 208 753 316 hann 0;
#X obj 36 264 tabwrite \$0-hann;
#X obj 36 24 loadbang;
#X obj 36 132 t f f;
#N canvas 0 22 500 350 \$0-hann 0;
#X array \$0-hann 1024 float 2;
#X coords 0 1 1024 0 250 175 1 0 0;
#X restore 468 72 graph \$0-hann;
#X obj 36 60 bng 15 250 50 0 empty empty empty 17 7 0 10 #ffffff #000000 #000000;
#X obj 36 96 uzi 1024;
#X obj 144 192 expr (-cos(($f1/512)*pi)/2)+0.5;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 2 1 0 1;
#X connect 4 0 5 0;
#X connect 5 2 2 0;
#X connect 6 0 0 0;
#X coords 0 0 1 1 250 175 0 0 0;
#X restore 216 204 pd hann;
#N canvas 536 41 550 527 signal 0;
#X obj 36 396 line~;
#X obj 36 264 f;
#X obj 36 468 outlet~;
#X msg 36 360 0 \, \$1 \$2;
#X obj 36 312 pack 0 0;
#X obj 36 432 tabread4~ \$0-sample;
#X obj 36 24 inlet;
#X obj 228 240 / 44.1;
#X obj 228 120 soundfiler;
#X msg 336 204 resize \$1;
#X obj 336 240 s \$0-nophase;
#X msg 228 60 read -resize voice.wav \$0-sample;
#X obj 228 24 loadbang;
#X obj 36 60 t b b;
#X obj 228 168 t f f f;
#X obj 96 96 s \$0-start;
#X msg 228 84 write nophase.wav \$0-nophase;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 13 0;
#X connect 7 0 4 1;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 11 0 8 0;
#X connect 12 0 11 0;
#X connect 13 0 1 0;
#X connect 13 1 15 0;
#X connect 14 0 1 1;
#X connect 14 1 7 0;
#X connect 14 2 9 0;
#X connect 16 0 8 0;
#X coords 0 0 1 1 250 175 0 0 0;
#X restore 36 156 pd signal;
#N canvas 672 100 322 450 tables 0;
#N canvas 0 22 500 350 \$0-sample 0;
#X array \$0-sample 62079 float 0;
#X coords 0 1 62078 -1 250 175 1 0 0;
#X restore 36 36 graph \$0-sample;
#N canvas 0 22 500 350 \$0-nophase 0;
#X array \$0-nophase 62079 float 0;
#X coords 0 1 62078 -1 250 175 1 0 0;
#X restore 36 240 graph \$0-nophase;
#X coords 0 0 1 1 250 175 0 0 0;
#X restore 216 180 pd tables;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 0 1 2 0;
#X connect 1 0 9 0;
#X connect 9 0 0 0;
#X coords 0 0 1 1 250 175 0 0 0;
